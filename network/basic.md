# 网络基础

1. TCP和UDP的区别？
   - TCP：面向字节流，必须先建立连接才可以传输。保证传输可靠，有序。全双工。适用于文件传输
   - UDP：面向报文，不可靠，无序。速度快，轻量，适用于即时通讯
2. TCP是如何保证数据可靠的？
   - 校验和：在数据传输过程中，将发送的数据段都当做一个16位的整数。将这些整数加起来，并且前面的进位不能丢弃，补在后面，最后取反，得到校验和。
   - 确认应答+序列号：TCP给发送的每个包进行编号，接收方对数据包进行排序，确认完整后发送确认信号
   - 超时重传：当TCP发出一个段后，它启动一个定时器，等待目的端确认收到这个报文段。如果不能及时收到，将重新发送
   - 流量控制：TCP连接的双方都有固定大小的缓冲空间，TCP的接收端只允许发送端发送接收端缓冲区能接纳的数据，当接收方来不及处理发送方的数据，能提示发送方降低发送的速率，防止包丢失，TCP使用的流量控制协议是可变大小的滑动窗口协议
   - 拥塞控制：当网络拥塞时，减少数据的发送。拥塞控制的方法有慢启动，拥塞避免，拥塞发送，快速恢复。
3. TCP的三次握手和四次挥手？
   握手：
   - 客户端：SYN=1,seq=client_isn
   - 服务器：SYN=1,seq=server_isn;ack=client_isn+1
   - 客户端：SYN=0,seq=client_isn+1;ack=server_isn+1
   挥手：
   - 客户端：FIN=1,seq=x,发送完毕后进入FIN_WAIT_1状态
   - 服务器：ack=1,seq=x+1。服务端确认客户端的FIN包
   - 服务器：FIN=1,seq=y。服务端准备好关闭连接，向客户端发送结束连接请求
   - 客户端：ack=1,seq=y+1。客户端收到来自服务器的关闭请求，发送一个确认包，并进入TIME_WAIT状态。服务端接收到这个确认包后，关闭连接，进入CLOSE状态，客户端等待了某个固定时间后也关闭连接。
